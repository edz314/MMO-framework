-- Define the NPC object
NPC = {
    name = "Villager",  -- NPC's name
    position = {x = 5, y = 5},  -- Current position
    greeting_message = "Hello there!",  -- Default greeting message
    greeting_range = 3,  -- Range within which the NPC can greet the player or another NPC
}

-- Define the Player object (or another NPC)
Player = {
    name = "Player",
    position = {x = 6, y = 5},  -- Current position of the player
}

-- Function to calculate the distance between two points
function calculate_distance(point1, point2)
    local dx = point2.x - point1.x
    local dy = point2.y - point1.y
    return math.sqrt(dx * dx + dy * dy)
end

-- Greet action function
function greet_action(target)
    -- Calculate the distance to the target (player or another NPC)
    local distance_to_target = calculate_distance(NPC.position, target.position)

    -- Check if the target is within greeting range
    if distance_to_target <= NPC.greeting_range then
        -- Perform the greeting
        print(NPC.name .. " greets " .. target.name .. ": \"" .. NPC.greeting_message .. "\"")
        -- Optional: Trigger a greeting animation here
    else
        -- If the target is out of range, print a message
        print(target.name .. " is too far away to greet.")
    end
end

-- Example usage:
-- Execute the greet action towards the player
greet_action(Player)
